<script type='text/javascript'>
    RED.nodes.registerType('process-env', {
        category: 'storage',
        color: 'darksalmon',
        defaults: {
            name: { value: '' },
            topic: { value: '' },
            key: { value: ''}
        },
        inputs: 1,
        outputs: 1,
        icon: 'inject.png',
        label: function () {
            return this.name || (this.key ? ('env: ' + this.key) : 'env');
        }
    });

</script>

<script type='text/x-red' data-template-name='process-env'>
    <div class='form-row'>
        <label for='node-input-name'><i class='fa fa-tag'></i></i> Name</label>
        <input type='text' id='node-input-name' placeholder='Name'>
    </div>
    <div class='form-row'>
        <label for='node-input-topic'><i class='fa fa-tasks'></i> Topic</label>
        <input type='text' id='node-input-topic' placeholder='Topic'>
    </div>
    <div class='form-row'>
        <label for='node-input-key'><i class='icon-tag'></i> Key</label>
        <input type='text' id='node-input-key' placeholder='Key'>
    </div>
</script>

<script type='text/x-red' data-help-name='process-env'>
    <p>A node that reads a enviroment variable.</p>
    <h3>Inputs</h3>
    <dl class='message-properties'>
        <dt class='optional'>topic <span class='property-type'>string</span></dt>
        <dd>If and the <i>key</i> is not set, the environment named
            <i>msg.payload</i> gets read.</dd>
        <dt class='optional'>topic</dt>
        <dd>If <i>msg.payload</i> and the <i>key</i> are not set, the environment named
             <i>msg.topic</i> gets read.</dd>
    </dl>
</script>